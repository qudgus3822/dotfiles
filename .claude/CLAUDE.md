# Claude Code Instructions

## Comment Rules

- NEVER delete existing comments
- Write all comments in Korean
- For code changes, use this format:
  `[변경: YYYY-MM-DD HH:mm, 김병현 수정] 변경내용`

## Auto Commit Message (trigger: 'cm')

### Behavior

- Analyze git diff and staged changes
- Generate commit message primarily in Korean with English technical terms as needed
- Include ONLY source code changes
- EXCLUDE meta phrases like "generated by claude"
- Automatically execute git commit with generated message

### Single Repository

- Run: `cm`
- Generate one commit message for current repo

### Monorepo / Submodules

- Run: `cm` from project root
- Scan main repository + all submodules for changes
- **Commit order: ALWAYS commit submodules FIRST, then root repository**
  1. Detect all submodules with uncommitted changes
  2. Generate and commit each submodule separately
  3. Finally, commit root repository (including submodule reference updates)

- Generate separate commit message for each repository with changes
- Output format:

```
  [Submodule: path/to/submodule1]
  commit message for submodule1

  [Submodule: path/to/submodule2]
  commit message for submodule2

  [Main Repository]
  commit message for root (including submodule updates if any)
```

- After committing submodules, root repository will show submodule reference changes
- Include these reference updates in root commit message

## Commit Message Guidelines

- Be specific about what changed
- Focus on WHAT, not WHY
- Keep it concise
- No decorative language
